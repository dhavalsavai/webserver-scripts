<VirtualHost *:443>
    ServerName ws.example.com

    SSLEngine On
    SSLCertificateFile /home/ubuntu/cert/techin.crt
    SSLCertificateKeyFile /home/ubuntu/cert/techin.key

    ProxyPreserveHost On

    # Reverse proxy for WebSocket handling
    ProxyPass /socket.io/ ws://localhost:3002/socket.io/
    ProxyPassReverse /socket.io/ ws://localhost:3002/socket.io/

    # Reverse proxy for the rest of your application
    ProxyPass / http://localhost:3002/
    ProxyPassReverse / http://localhost:3002/


    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>
